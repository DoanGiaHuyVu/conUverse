<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Post - conUverse</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="/static/css/create_page.css" />
  </head>
  <body>
    <!-- Mobile Search Bar (visible on small screens) -->
    <div class="mobile-search">
      <div class="input-group">
        <span class="input-group-text bg-white border-end-0">
          <i class="fas fa-search text-muted"></i>
        </span>
        <input
          type="text"
          class="form-control border-start-0"
          placeholder="Search with conUverse"
        />
        <a
          href="notification_page.html"
          class="btn btn-link text-decoration-none"
        >
          <i class="fas fa-bell" style="color: #912338"></i>
        </a>
      </div>
    </div>

    <div class="container-fluid py-4">
      <div class="row">
        <!-- Left Navigation Sidebar (hidden on mobile) -->
        <div class="col-md-3 col-lg-2 desktop-nav">
          <div class="sidebar sticky-top" style="top: 20px">
            <h5 class="navbar-brand mb-4">
              <i class="fas fa-graduation-cap"></i> conUverse
            </h5>
            <nav class="nav flex-column">
              <a class="nav-link" href="home_page.html">
                <i class="fas fa-home"></i> Home
              </a>
              <a class="nav-link" href="search_page.html">
                <i class="fas fa-search"></i> Search
              </a>
              <a class="nav-link" href="discover_page.html">
                <i class="fas fa-compass"></i> Discover
              </a>
              <a class="nav-link" href="message_page.html">
                <i class="fas fa-envelope"></i> Messages
              </a>
              <a class="nav-link" href="notification_page.html">
                <i class="fas fa-bell"></i> Notifications
              </a>
              <a class="nav-link active" href="create_page.html">
                <i class="fas fa-plus-circle"></i> Create
              </a>
              <a class="nav-link" href="profile_page.html">
                <i class="fas fa-user"></i> Profile
              </a>
            </nav>
          </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-6 col-lg-6">
          <div class="post-container">
            <h2 class="mb-4">Create a Post</h2>

            <!-- Post Type Selector -->
            <div class="post-type-selector">
              <button class="post-type-btn active" data-type="text">
                <i class="fas fa-font me-2"></i>Text
              </button>
              <button class="post-type-btn" data-type="image">
                <i class="fas fa-image me-2"></i>Picture
              </button>
              <button class="post-type-btn" data-type="link">
                <i class="fas fa-link me-2"></i>Link
              </button>
              <button class="post-type-btn" data-type="event">
                <i class="fas fa-calendar me-2"></i>Event
              </button>
              <button class="post-type-btn" data-type="study-group">
                <i class="fas fa-users me-2"></i>Study Group
              </button>
            </div>

            <!-- Post Form -->
            <form class="post-form">
              <!-- Title (common for all post types) -->
              <div class="mb-3">
                <input
                  type="text"
                  class="form-control form-control-lg"
                  placeholder="Title"
                  required
                />
              </div>

              <!-- Text Post Content -->
              <div class="post-content text-post">
                <div class="mb-3">
                  <textarea
                    class="form-control"
                    rows="6"
                    placeholder="Write your post content here..."
                  ></textarea>
                </div>
              </div>

              <!-- Image Post Content (initially hidden) -->
              <div class="post-content image-post" style="display: none">
                <div class="mb-3">
                  <div class="image-preview empty">
                    <i class="fas fa-image"></i>
                  </div>
                  <input type="file" class="form-control" accept="image/*" />
                </div>
                <div class="mb-3">
                  <textarea
                    class="form-control"
                    rows="3"
                    placeholder="Add a caption..."
                  ></textarea>
                </div>
              </div>

              <!-- Link Post Content (initially hidden) -->
              <div class="post-content link-post" style="display: none">
                <div class="mb-3">
                  <input
                    type="url"
                    class="form-control"
                    placeholder="Paste your link here"
                  />
                </div>
                <div class="link-preview">
                  <p class="text-muted">Link preview will appear here...</p>
                </div>
                <div class="mb-3 mt-3">
                  <textarea
                    class="form-control"
                    rows="3"
                    placeholder="Add your thoughts about this link..."
                  ></textarea>
                </div>
              </div>

              <!-- Event Post Content (initially hidden) -->
              <div class="post-content event-post" style="display: none">
                <div class="mb-3">
                  <label class="form-label">Event Date & Time</label>
                  <input type="datetime-local" class="form-control" />
                </div>
                <div class="mb-3">
                  <label class="form-label">Location</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Event location"
                  />
                </div>
                <div class="mb-3">
                  <label class="form-label">Capacity</label>
                  <input
                    type="number"
                    class="form-control"
                    placeholder="Maximum number of participants"
                  />
                </div>
                <div class="mb-3">
                  <label class="form-label">Event Description</label>
                  <textarea
                    class="form-control"
                    rows="4"
                    placeholder="Describe your event..."
                  ></textarea>
                </div>
              </div>

              <!-- Study Group Post Content (initially hidden) -->
              <div class="post-content study-group-post" style="display: none">
                <div class="mb-3">
                  <label class="form-label">Course Code</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="e.g., COMP352"
                  />
                </div>
                <div class="mb-3">
                  <label class="form-label">Meeting Schedule</label>
                  <div class="row">
                    <div class="col-md-6">
                      <input
                        type="date"
                        class="form-control mb-2"
                        placeholder="Date"
                      />
                    </div>
                    <div class="col-md-6">
                      <input
                        type="time"
                        class="form-control mb-2"
                        placeholder="Time"
                      />
                    </div>
                  </div>
                </div>
                <div class="mb-3">
                  <label class="form-label">Group Size Limit</label>
                  <input
                    type="number"
                    class="form-control"
                    placeholder="Maximum number of members"
                  />
                </div>
                <div class="mb-3">
                  <label class="form-label">Study Topics</label>
                  <textarea
                    class="form-control"
                    rows="3"
                    placeholder="List the topics you plan to cover..."
                  ></textarea>
                </div>
                <div class="mb-3">
                  <label class="form-label">Additional Information</label>
                  <textarea
                    class="form-control"
                    rows="3"
                    placeholder="Any other details about the study group..."
                  ></textarea>
                </div>
              </div>

              <!-- Common Fields -->
              <div class="mb-3">
                <label class="form-label">Tags</label>
                <div class="tag-input">
                  <div class="tag">
                    <span>concordia</span>
                    <button type="button">&times;</button>
                  </div>
                  <input
                    type="text"
                    class="border-0 flex-grow-1"
                    placeholder="Add tags..."
                    style="outline: none"
                  />
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Visibility</label>
                <select class="form-select">
                  <option value="public">Public</option>
                  <option value="friends">Friends Only</option>
                  <option value="private">Private</option>
                </select>
              </div>

              <div class="text-end">
                <button type="submit" class="post-btn">
                  <i class="fas fa-paper-plane me-2"></i>Create Post
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Right Sidebar -->
        <div class="col-md-3 col-lg-3">
          <div class="sidebar sticky-top" style="top: 20px">
            <!-- Community Guidelines -->
            <div class="post-container mb-4">
              <h5 class="mb-3">
                <i class="fas fa-book me-2"></i>Community Guidelines
              </h5>
              <ul class="list-unstyled">
                <li class="mb-2">
                  <i class="fas fa-check text-success me-2"></i>Be respectful
                  and inclusive
                </li>
                <li class="mb-2">
                  <i class="fas fa-check text-success me-2"></i>Share relevant
                  academic content
                </li>
                <li class="mb-2">
                  <i class="fas fa-check text-success me-2"></i>Avoid plagiarism
                </li>
                <li class="mb-2">
                  <i class="fas fa-check text-success me-2"></i>Protect personal
                  information
                </li>
              </ul>
            </div>

            <!-- Posting Tips -->
            <div class="post-container mb-4">
              <h5 class="mb-3">
                <i class="fas fa-lightbulb me-2"></i>Posting Tips
              </h5>
              <div class="mb-3">
                <h6 class="text-muted">Writing Effective Titles</h6>
                <p class="small">
                  Keep titles clear, specific, and engaging to attract more
                  readers.
                </p>
              </div>
              <div class="mb-3">
                <h6 class="text-muted">Using Tags</h6>
                <p class="small">
                  Add relevant tags to help others find your content easily.
                </p>
              </div>
            </div>

            <!-- Contact Moderation -->
            <div class="post-container">
              <h5 class="mb-3">
                <i class="fas fa-shield-alt me-2"></i>Need Help?
              </h5>
              <p class="small mb-2">Contact our moderation team:</p>
              <a href="#" class="btn btn-outline-secondary btn-sm w-100 mb-2">
                <i class="fas fa-flag me-2"></i>Report an Issue
              </a>
              <a href="#" class="btn btn-outline-secondary btn-sm w-100">
                <i class="fas fa-envelope me-2"></i>Contact Moderators
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Navigation (visible on small screens) -->
    <div class="mobile-nav">
      <a href="home_page.html" class="mobile-nav-item">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="discover_page.html" class="mobile-nav-item">
        <i class="fas fa-compass"></i>
        <span>Discover</span>
      </a>
      <a href="create_page.html" class="mobile-nav-item active">
        <i class="fas fa-plus-circle"></i>
        <span>Create</span>
      </a>
      <a href="message_page.html" class="mobile-nav-item">
        <i class="fas fa-envelope"></i>
        <span>Messages</span>
      </a>
      <a href="profile_page.html" class="mobile-nav-item">
        <i class="fas fa-user"></i>
        <span>Profile</span>
      </a>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Post type switching
      document.querySelectorAll(".post-type-btn").forEach((button) => {
        button.addEventListener("click", () => {
          // Update active button
          document
            .querySelector(".post-type-btn.active")
            .classList.remove("active");
          button.classList.add("active");

          // Show corresponding content
          const type = button.dataset.type;
          document.querySelectorAll(".post-content").forEach((content) => {
            content.style.display = "none";
          });
          document.querySelector(`.${type}-post`).style.display = "block";
        });
      });

      // Image preview
      const imageInput = document.querySelector('input[type="file"]');
      const imagePreview = document.querySelector(".image-preview");

      imageInput.addEventListener("change", () => {
        const file = imageInput.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            imagePreview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
            imagePreview.classList.remove("empty");
          };
          reader.readAsDataURL(file);
        }
      });

      // Tag handling
      const tagInput = document.querySelector(".tag-input input");
      tagInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter" && tagInput.value.trim()) {
          e.preventDefault();
          const tag = document.createElement("div");
          tag.className = "tag";
          tag.innerHTML = `
                    <span>${tagInput.value.trim()}</span>
                    <button type="button">&times;</button>
                `;
          tagInput.parentNode.insertBefore(tag, tagInput);
          tagInput.value = "";

          // Add remove functionality to new tag
          tag.querySelector("button").addEventListener("click", () => {
            tag.remove();
          });
        }
      });

      // Remove tag functionality for existing tags
      document.querySelectorAll(".tag button").forEach((button) => {
        button.addEventListener("click", () => {
          button.parentElement.remove();
        });
      });
    </script>
  </body>
</html>
